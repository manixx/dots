#!/bin/zsh

current=$(cat /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor | uniq)

case $1 in
	toggle)
			[[ $current == "powersave" ]] && new="performance" || new="powersave"
			echo $new \
				| sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
		;;

	*)
		if [[ ${current} == "powersave" ]]; then
			echo "pwsv"
		elif [[ ${current} == "performance" ]]; then
			echo "perf"
		else
			echo "not sure"
		fi
		;;
esac
